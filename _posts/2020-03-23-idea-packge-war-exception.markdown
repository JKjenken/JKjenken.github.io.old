---
layout:     post
title:      "Tmcat部署war包异常"
subtitle:   "Effective-java-3rd"
date:       2020-03-20 11:00:00
author:     "linjiankai"
header-img: "img/post-bg-effective-java-3rd.png"
catalog: true
tags:
    - 异常
    - idea
    - Tomcat
---

遇到问题的时候应该第一时间查看log日志信息，**不要从页面入手，而是应该从日志入手**，这时候发现log日志显示报错，但是没有详细的报错信息。这个时候可以配置一下项目的日志打印等级，然后发现真正的完整报错信息，就可以去解决问题了。

花了一个上午的时间才排查出问题，特此记录，关键是要找日志信息，只要有对应的具体报错信息，就能够更好的定位到问题。
## Tomcat引用的jdk版本

> 在windows系统里，Tomcat默认是使用系统变量JAVA_HOME的jdk版本，如果需要更换，可以在配置文件手动指定。

这次线上部署war包至Tomcat时遇到异常，因为项目服务器的系统变量是采用java1.7，而这次更新的需求变更中，我无意中使用了一个lombda，方法引用的java8的特性，由于我是在本地这边jdk1.8的环境编译打包(之前一直都是用java8进行编译部署)，因此没有报错，但是在部署过去之后，tomcat启动出现异常（因为引用的是java1.7的线上环境）。
如上述所说，找到对应的报错信息之后，修改异常即可成功部署。遇到其他部署异常也不需要慌张，一般情况下，程序都会严格执行命令，会将执行异常的部分记录下来，只要找到对应的部分就可以排查出异常的原因。
